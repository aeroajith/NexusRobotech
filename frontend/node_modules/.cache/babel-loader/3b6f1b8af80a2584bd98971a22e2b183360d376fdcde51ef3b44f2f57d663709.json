{"ast":null,"code":"import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button}from'react-bootstrap';import Loader from\"../components/Loader\";import Message from\"../components/Message\";import{useDispatch,useSelector}from'react-redux';import{useNavigate}from\"react-router-dom\";import{ordersList}from'../components/actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function OrderListPage(){var dispatch=useDispatch();var navigate=useNavigate();var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,error=orderList.error,orders=orderList.orders;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(ordersList());}else{navigate('/login');}},[dispatch,navigate,userInfo]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Orders\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"USER\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PAID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DELIVERED\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.user&&order.user.name}),/*#__PURE__*/_jsx(\"td\",{children:order.createdAt.substring(0,10)}),/*#__PURE__*/_jsx(\"td\",{children:order.totalPrice}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/order/\".concat(order._id),children:/*#__PURE__*/_jsx(Button,{variant:\"dark\",className:\"btn-sm\",children:\"Details\"})})})]},order._id);})})]})]});}","map":{"version":3,"names":["React","useEffect","LinkContainer","Table","Button","Loader","Message","useDispatch","useSelector","useNavigate","ordersList","jsx","_jsx","jsxs","_jsxs","OrderListPage","dispatch","navigate","orderList","state","loading","error","orders","userLogin","userInfo","isAdmin","children","variant","striped","bordered","hover","responsive","className","map","order","_id","user","name","createdAt","substring","totalPrice","isPaid","style","color","isDelivered","to","concat"],"sources":["D:/ecommerce/frontend/src/pages/OrderListPage.js"],"sourcesContent":["import React,{useEffect} from 'react'\r\nimport {LinkContainer} from 'react-router-bootstrap'\r\nimport { Table,Button } from 'react-bootstrap'\r\nimport Loader from \"../components/Loader\"\r\nimport Message from \"../components/Message\"\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { ordersList } from '../components/actions/orderActions'\r\n\r\nexport default function OrderListPage() {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    \r\n    const orderList = useSelector(state =>state.orderList)\r\n    const {loading,error,orders} = orderList\r\n\r\n    const userLogin = useSelector(state =>state.userLogin)\r\n    const {userInfo} = userLogin\r\n \r\n\r\n    useEffect(()=>{\r\n        if(userInfo && userInfo.isAdmin){\r\n            \r\n            dispatch(ordersList())\r\n        }else{\r\n            navigate('/login')\r\n        }\r\n\r\n    },[dispatch,navigate,userInfo])\r\n\r\n     \r\n\r\n\r\n  return (\r\n    <div>\r\n        <h2>Orders</h2> \r\n        {loading ?( <Loader/> ):error ?( <Message variant='danger'>{error}</Message>)\r\n\r\n        :(\r\n            <Table striped bordered hover responsive className='table-sm'>\r\n                <thead>\r\n                    <tr>\r\n                    <th>ID</th>\r\n                    <th>USER</th>\r\n                    <th>DATE</th>\r\n                    <th>PRICE</th>\r\n                    <th>PAID</th>\r\n                    <th>DELIVERED</th>\r\n                    <th></th>\r\n                    </tr>\r\n                    \r\n                </thead>\r\n\r\n                <tbody>\r\n                    {orders.map(order=>(\r\n                        <tr key={order._id}>\r\n                        <td>{order._id}</td>\r\n                        <td>{order.user && order.user.name}</td>\r\n                        <td>{order.createdAt.substring(0,10)}</td>\r\n                        <td>{order.totalPrice}</td>\r\n\r\n                        <td>{order.isPaid ?(\r\n                            <i className='fas fa-check' style={{color:'green'}}></i>\r\n                        ):(\r\n                            <i className='fas fa-times' style={{color:'red'}}></i>\r\n                        )}</td>\r\n\r\n                        <td>{order.isDelivered ?(\r\n                            <i className='fas fa-check' style={{color:'green'}}></i>\r\n                        ):(\r\n                            <i className='fas fa-times' style={{color:'red'}}></i>\r\n                        )}</td>\r\n\r\n                        <td>\r\n                            <LinkContainer to={`/order/${order._id}`}>\r\n                                <Button variant='dark' className='btn-sm'>\r\n                                    Details\r\n                                    </Button>\r\n                            </LinkContainer>\r\n                             \r\n                        </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n\r\n            </Table>\r\n        )}\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}