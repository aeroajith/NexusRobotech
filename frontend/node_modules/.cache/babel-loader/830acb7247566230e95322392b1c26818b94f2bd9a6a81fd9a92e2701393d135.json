{"ast":null,"code":"import _slicedToArray from\"D:/ecommerce/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link,redirect}from'react-router-dom';import{Form,Row,Col,Button}from'react-bootstrap';import Loader from\"../components/Loader\";import Message from\"../components/Message\";import{useDispatch,useSelector}from'react-redux';import FormContainer from'./FormContainer';import{useNavigate,useLocation}from\"react-router-dom\";import{login}from'../components/actions/userAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"password\"),_useState6=_slicedToArray(_useState5,2),passwordVisibility=_useState6[0],setpasswordVisibility=_useState6[1];var togglePassword=function togglePassword(){if(passwordVisibility===\"password\"){setpasswordVisibility(\"text\");return;}setpasswordVisibility(\"password\");};var dispatch=useDispatch();var location=useLocation();var navigate=useNavigate();var redirect=location.search?location.search.split('=')[1]:'/';var userLogin=useSelector(function(state){return state.userLogin;});var error=userLogin.error,loading=userLogin.loading,userInfo=userLogin.userInfo;useEffect(function(){if(userInfo){navigate(redirect);}},[navigate,userInfo,redirect]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(login(email,password));};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign In\"}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",className:\"my-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"password\",className:\"my-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pass-wrapper\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:passwordVisibility,name:\"password\",placeholder:\"Enter Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"float-right mt-n1\",onClick:togglePassword,children:passwordVisibility===\"password\"?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye-slash\",\"aria-hidden\":\"true\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\",\"aria-hidden\":\"true\"})})]})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",className:\"my-4 float-right\",children:\"Sign In\"})]}),/*#__PURE__*/_jsx(Row,{className:\"py-0 mt-5\",children:/*#__PURE__*/_jsxs(Col,{children:[\"New Customer ? \",/*#__PURE__*/_jsx(Link,{to:redirect?\"/register?redirect=\".concat(redirect):\"/register\",children:\"Register\"})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","redirect","Form","Row","Col","Button","Loader","Message","useDispatch","useSelector","FormContainer","useNavigate","useLocation","login","jsx","_jsx","jsxs","_jsxs","LoginPage","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","passwordVisibility","setpasswordVisibility","togglePassword","dispatch","location","navigate","search","split","userLogin","state","error","loading","userInfo","submitHandler","e","preventDefault","children","variant","onSubmit","Group","controlId","className","Label","Control","type","placeholder","value","onChange","target","required","name","onClick","to","concat"],"sources":["D:/ecommerce/frontend/src/pages/LoginPage.js"],"sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport {Link, redirect} from 'react-router-dom'\r\nimport { Form,Row,Col,Button } from 'react-bootstrap'\r\nimport Loader from \"../components/Loader\"\r\nimport Message from \"../components/Message\"\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport FormContainer from './FormContainer'\r\nimport {  useNavigate, useLocation } from \"react-router-dom\"\r\nimport { login } from '../components/actions/userAction'\r\n\r\nexport default function LoginPage() {\r\n\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [passwordVisibility, setpasswordVisibility] = useState(\"password\");\r\n  const togglePassword =()=>{\r\n    if(passwordVisibility===\"password\")\r\n    {\r\n      setpasswordVisibility(\"text\")\r\n     return;\r\n    }\r\n    setpasswordVisibility(\"password\")\r\n  }\r\n  const dispatch = useDispatch()\r\n\r\n  const location = useLocation()\r\n  const navigate = useNavigate()\r\n\r\n  const redirect = location.search ? location.search.split('=')[1] :'/'\r\n\r\n  const userLogin = useSelector(state => state.userLogin)\r\n  const {error, loading, userInfo} = userLogin\r\n\r\n  useEffect(()=>{\r\n    if(userInfo){\r\n          navigate(redirect)\r\n    }\r\n\r\n\r\n  },[navigate, userInfo, redirect])\r\n\r\n  const submitHandler = (e) =>{\r\n    e.preventDefault()\r\n    dispatch(login(email,password))\r\n  }\r\n  \r\n  return (\r\n    <FormContainer>\r\n        <h2>Sign In</h2>\r\n        {error && <Message variant='danger'>{error}</Message>}\r\n        {loading && <Loader/>}\r\n        <Form onSubmit={submitHandler} >\r\n            <Form.Group controlId='email'className='my-2'>\r\n                <Form.Label>Email Address</Form.Label>\r\n                <Form.Control\r\n                type='email'\r\n                placeholder='Enter Email'\r\n                value={email}\r\n                onChange={(e)=>setEmail(e.target.value)}\r\n                required\r\n                >\r\n                </Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='password'className='my-2'>\r\n              <div className='pass-wrapper'>\r\n            \r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control\r\n                type={passwordVisibility}\r\n                name=\"password\"\r\n                placeholder='Enter Password'\r\n                value={password}\r\n                onChange={(e)=>setPassword(e.target.value)}\r\n                required\r\n                >\r\n                   \r\n                </Form.Control>\r\n                <div className=\"float-right mt-n1\" onClick={togglePassword}>\r\n                { passwordVisibility ===\"password\" ? <i className=\"fa fa-eye-slash\" aria-hidden=\"true\"></i> :<i className=\"fa fa-eye\" aria-hidden=\"true\"></i> } \r\n                </div>\r\n          \r\n               \r\n               \r\n                </div>\r\n            </Form.Group>\r\n\r\n            <Button type='submit' variant='primary' className='my-4 float-right'>\r\n                Sign In\r\n            </Button>\r\n        </Form>\r\n\r\n        <Row className='py-0 mt-5'>\r\n            <Col>\r\n            New Customer ? <Link \r\n            to={redirect ? `/register?redirect=${redirect}`:`/register`}>Register</Link>\r\n            </Col>\r\n        </Row>\r\n    </FormContainer>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}