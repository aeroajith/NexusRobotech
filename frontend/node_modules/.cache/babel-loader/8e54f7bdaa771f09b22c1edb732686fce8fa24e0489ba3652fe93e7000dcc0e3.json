{"ast":null,"code":"import React,{useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import swal from'sweetalert';import{Table,Button}from'react-bootstrap';import Loader from\"../components/Loader\";import Message from\"../components/Message\";import{useDispatch,useSelector}from'react-redux';import{useNavigate}from\"react-router-dom\";import{listUsers,deleteUsers}from'../components/actions/userAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UsersListPage(){var dispatch=useDispatch();var navigate=useNavigate();var userList=useSelector(function(state){return state.userList;});var loading=userList.loading,error=userList.error,user=userList.user;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var userDelete=useSelector(function(state){return state.userDelete;});var success=userDelete.success,successDelete=userDelete.successDelete;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else{navigate('/login');}},[dispatch,navigate,successDelete,userInfo]);var deleteHandler=function deleteHandler(id){//pop up\nswal({title:\"Are you sure want to delete?\",text:\"You will not able to recover this user\",icon:\"warning\",buttons:true,dangerMode:true}).then(function(willDelete){if(willDelete){swal(\"Poof! user has been successfully deleted!\",{icon:\"success\"});dispatch(deleteUsers(id));window.location.reload(false);}else{swal(\"User is safe!\");}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Users List\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:user.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/user/\".concat(user._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),\"\",/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return deleteHandler(user._id);},className:\"btn-sm mx-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},user._id);})})]})]});}","map":{"version":3,"names":["React","useEffect","LinkContainer","swal","Table","Button","Loader","Message","useDispatch","useSelector","useNavigate","listUsers","deleteUsers","jsx","_jsx","jsxs","_jsxs","UsersListPage","dispatch","navigate","userList","state","loading","error","user","userLogin","userInfo","userDelete","success","successDelete","isAdmin","deleteHandler","id","title","text","icon","buttons","dangerMode","then","willDelete","window","location","reload","children","variant","striped","bordered","hover","responsive","className","map","_id","name","email","style","color","to","concat","onClick"],"sources":["D:/ecommerce/frontend/src/pages/UsersListPage.js"],"sourcesContent":["import React,{useEffect} from 'react'\r\nimport {LinkContainer} from 'react-router-bootstrap'\r\nimport swal from 'sweetalert'\r\nimport { Table,Button } from 'react-bootstrap'\r\nimport Loader from \"../components/Loader\"\r\nimport Message from \"../components/Message\"\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { listUsers, deleteUsers } from '../components/actions/userAction'\r\n\r\nexport default function UsersListPage() {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const userList = useSelector(state =>state.userList)\r\n    const {loading,error,user} = userList\r\n\r\n    const userLogin = useSelector(state =>state.userLogin)\r\n    const {userInfo} = userLogin\r\n\r\n    const userDelete = useSelector(state =>state.userDelete)\r\n    const {success, successDelete} = userDelete\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n        if(userInfo && userInfo.isAdmin){\r\n            \r\n            dispatch(listUsers())\r\n        }else{\r\n            navigate('/login')\r\n        }\r\n\r\n    },[dispatch,navigate,successDelete,userInfo])\r\n\r\n    const deleteHandler =(id) =>{\r\n        //pop up\r\n        swal({\r\n            title: \"Are you sure want to delete?\",\r\n            text: \"You will not able to recover this user\", \r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n        .then((willDelete) => {\r\n          if (willDelete) {\r\n            swal(\"Poof! user has been successfully deleted!\", {\r\n              icon: \"success\",\r\n            });\r\n            dispatch(deleteUsers(id))\r\n            window.location.reload(false);\r\n          } else {\r\n            swal(\"User is safe!\");\r\n         } })\r\n        }\r\n\r\n\r\n  return (\r\n    <div>\r\n        <h2>Users List</h2> \r\n        {loading ?( <Loader/> ):error ?( <Message variant='danger'>{error}</Message>)\r\n\r\n        :(\r\n            <Table striped bordered hover responsive className='table-sm'>\r\n                <thead>\r\n                    <tr>\r\n                    <th>ID</th>\r\n                    <th>NAME</th>\r\n                    <th>EMAIL</th>\r\n                    <th>ADMIN</th>\r\n                    <th></th>\r\n                    </tr>\r\n                    \r\n                </thead>\r\n\r\n                <tbody>\r\n                    {user.map(user=>(\r\n                        <tr key={user._id}>\r\n                        <td>{user._id}</td>\r\n                        <td>{user.name}</td>\r\n                        <td>{user.email}</td>\r\n                        <td>{user.isAdmin ?(\r\n                            <i className='fas fa-check' style={{color:'green'}}></i>\r\n                        ):(\r\n                            <i className='fas fa-times' style={{color:'red'}}></i>\r\n                        )}</td>\r\n\r\n                        <td>\r\n                            <LinkContainer to={`/admin/user/${user._id}/edit`}>\r\n                                <Button variant='light' className='btn-sm'>\r\n                                    <i className='fas fa-edit'></i>\r\n                                    </Button>\r\n                            </LinkContainer>\r\n                            {\"\"}\r\n                            <Button variant='danger'\r\n                            onClick={()=> deleteHandler(user._id)}\r\n                            className='btn-sm mx-2'>\r\n                                    <i className='fas fa-trash'></i>\r\n                                    </Button>\r\n                        </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n\r\n            </Table>\r\n        )}\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}