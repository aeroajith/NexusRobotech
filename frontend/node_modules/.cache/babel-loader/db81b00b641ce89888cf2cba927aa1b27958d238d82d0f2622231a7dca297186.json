{"ast":null,"code":"import _slicedToArray from\"D:/ecommerce/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link,redirect}from'react-router-dom';import{Form,Row,Col,Button}from'react-bootstrap';import Loader from\"../components/Loader\";import Message from\"../components/Message\";import{useDispatch,useSelector}from'react-redux';import FormContainer from'./FormContainer';import{useNavigate,useLocation}from\"react-router-dom\";import{register}from'../components/actions/userAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisterPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(\"password\"),_useState10=_slicedToArray(_useState9,2),passwordVisibility=_useState10[0],setpasswordVisibility=_useState10[1];var togglePassword=function togglePassword(){if(passwordVisibility===\"password\"){setpasswordVisibility(\"text\");return;}setpasswordVisibility(\"password\");};var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),message=_useState12[0],setMessage=_useState12[1];var dispatch=useDispatch();var location=useLocation();var navigate=useNavigate();var redirect=location.search?location.search.split('=')[1]:'/';var userRegister=useSelector(function(state){return state.userRegister;});var error=userRegister.error,loading=userRegister.loading,userInfo=userRegister.userInfo;useEffect(function(){if(userInfo){navigate(redirect);}},[navigate,userInfo,redirect]);var submitHandler=function submitHandler(e){e.preventDefault();if(password!=confirmPassword){setMessage('Password did not match!');}else{dispatch(register(name,email,password));}};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),message&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:message}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",className:\"my-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter Name\",value:name,onChange:function onChange(e){return setName(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",className:\"my-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",className:\"my-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:passwordVisibility,placeholder:\"Enter Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"float-right mt-n1\",onClick:togglePassword,children:passwordVisibility===\"password\"?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye-slash\",\"aria-hidden\":\"true\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\",\"aria-hidden\":\"true\"})})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"confirmpassword\",className:\"my-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:passwordVisibility,placeholder:\"Confirm Password\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"float-right mt-n1\",onClick:togglePassword,children:passwordVisibility===\"password\"?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye-slash\",\"aria-hidden\":\"true\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\",\"aria-hidden\":\"true\"})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",className:\"my-4 float-right\",children:\"Register\"})]}),/*#__PURE__*/_jsx(Row,{className:\"py-0 mt-5\",children:/*#__PURE__*/_jsxs(Col,{children:[\"Already Registered ? \",/*#__PURE__*/_jsx(Link,{to:redirect?\"/login?redirect=\".concat(redirect):\"/login\",children:\"Sign In\"})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","redirect","Form","Row","Col","Button","Loader","Message","useDispatch","useSelector","FormContainer","useNavigate","useLocation","register","jsx","_jsx","jsxs","_jsxs","RegisterPage","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","confirmPassword","setConfirmPassword","_useState9","_useState10","passwordVisibility","setpasswordVisibility","togglePassword","_useState11","_useState12","message","setMessage","dispatch","location","navigate","search","split","userRegister","state","error","loading","userInfo","submitHandler","e","preventDefault","children","variant","onSubmit","Group","controlId","className","Label","Control","type","placeholder","value","onChange","target","required","onClick","to","concat"],"sources":["D:/ecommerce/frontend/src/pages/RegisterPage.js"],"sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport {Link, redirect} from 'react-router-dom'\r\nimport { Form,Row,Col,Button } from 'react-bootstrap'\r\nimport Loader from \"../components/Loader\"\r\nimport Message from \"../components/Message\"\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport FormContainer from './FormContainer'\r\nimport { useNavigate, useLocation } from \"react-router-dom\"\r\nimport { register } from '../components/actions/userAction'\r\n\r\nexport default function RegisterPage() {\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [confirmPassword, setConfirmPassword] = useState('')\r\n  const [passwordVisibility, setpasswordVisibility] = useState(\"password\");\r\n  const togglePassword =()=>{\r\n    if(passwordVisibility===\"password\")\r\n    {\r\n      setpasswordVisibility(\"text\")\r\n     return;\r\n    }\r\n    setpasswordVisibility(\"password\")\r\n  }\r\n  const [message, setMessage] = useState('')\r\n  const dispatch = useDispatch()\r\n\r\n  const location = useLocation()\r\n  const navigate = useNavigate()\r\n\r\n  const redirect = location.search ? location.search.split('=')[1] :'/'\r\n\r\n  const userRegister = useSelector(state => state.userRegister)\r\n  const {error, loading, userInfo} = userRegister\r\n\r\n  useEffect(()=>{\r\n    if(userInfo){\r\n          navigate(redirect)\r\n    }\r\n\r\n\r\n  },[navigate, userInfo, redirect])\r\n\r\n  const submitHandler = (e) =>{\r\n    e.preventDefault()\r\n    if (password != confirmPassword){\r\n        setMessage('Password did not match!')\r\n    }else{\r\n        dispatch(register(name,email,password))\r\n    }\r\n  }\r\n  return (\r\n    <FormContainer>\r\n         <h2>Register</h2>\r\n         {message && <Message variant='danger'>{message}</Message>}\r\n        {error && <Message variant='danger'>{error}</Message>}\r\n        {loading && <Loader/>}\r\n        <Form onSubmit={submitHandler} >\r\n        <Form.Group controlId='name'className='my-2'>\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control\r\n                type='text'\r\n                placeholder='Enter Name'\r\n                value={name}\r\n                onChange={(e)=>setName(e.target.value)}\r\n                required\r\n                >\r\n                </Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='email'className='my-2'>\r\n                <Form.Label>Email Address</Form.Label>\r\n                <Form.Control\r\n                type='email'\r\n                placeholder='Enter Email'\r\n                value={email}\r\n                onChange={(e)=>setEmail(e.target.value)}\r\n                required\r\n                >\r\n                </Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='password'className='my-2'>\r\n                <Form.Label> Password</Form.Label>\r\n                <Form.Control\r\n                type={passwordVisibility}\r\n                placeholder='Enter Password'\r\n                value={password}\r\n                onChange={(e)=>setPassword(e.target.value)}\r\n                required\r\n                >\r\n                </Form.Control>\r\n                <div className=\"float-right mt-n1\" onClick={togglePassword}>\r\n                { passwordVisibility ===\"password\"? <i className=\"fa fa-eye-slash\" aria-hidden=\"true\"></i> :<i className=\"fa fa-eye\" aria-hidden=\"true\"></i> } \r\n                </div>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='confirmpassword'className='my-2'>\r\n                <Form.Label>Confirm Password</Form.Label>\r\n                <Form.Control\r\n                type={passwordVisibility}\r\n                placeholder='Confirm Password'\r\n                value={confirmPassword}\r\n                onChange={(e)=>setConfirmPassword(e.target.value)}\r\n                required\r\n                >\r\n                </Form.Control>\r\n                <div className=\"float-right mt-n1\" onClick={togglePassword}>\r\n                { passwordVisibility ===\"password\"? <i className=\"fa fa-eye-slash\" aria-hidden=\"true\"></i> :<i className=\"fa fa-eye\" aria-hidden=\"true\"></i> } \r\n                </div>\r\n            </Form.Group>\r\n            <Button type='submit' variant='primary' className='my-4 float-right'>\r\n                Register\r\n            </Button>\r\n\r\n        </Form>\r\n\r\n        <Row className='py-0 mt-5'>\r\n            <Col>\r\n            Already Registered ? <Link \r\n            to={redirect ? `/login?redirect=${redirect}`:`/login`}>Sign In</Link>\r\n            </Col>\r\n        </Row>\r\n\r\n    </FormContainer>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}